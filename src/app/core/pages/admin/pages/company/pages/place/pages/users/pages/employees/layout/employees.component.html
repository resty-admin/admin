<div class="employees-page" *transloco="let t">
	<app-add-button class="add" (clicked)="openAddEmployeeDialog()">{{ t("EMPLOYEES.ADD") }}</app-add-button>

	<app-filters class="filters"></app-filters>
	<!--desktop-->
	<app-datatable class="datatable-desktop" [rows]="employees$ | async">
		<ng-container appColumn="name">
			<ng-template #header>{{ t("EMPLOYEES.NAME") }}</ng-template>
			<ng-template #value let-value>{{ value }}</ng-template>
		</ng-container>
		<ng-container appColumn="email">
			<ng-template #header>{{ t("EMPLOYEES.EMAIL") }}</ng-template>
			<ng-template #value let-value>{{ value }}</ng-template>
		</ng-container>
		<ng-container appColumn="tel">
			<ng-template #header>{{ t("EMPLOYEES.TEL") }}</ng-template>
			<ng-template #value let-value>{{ value }}</ng-template>
		</ng-container>
		<ng-container appColumn="role">
			<ng-template #header>{{ t("EMPLOYEES.ROLE") }}</ng-template>
			<ng-template #value let-value>{{ t("USERS." + value) }}</ng-template>
		</ng-container>
		<ng-container appColumn="more">
			<ng-template #header></ng-template>
			<ng-template #value let-row="row">
				<ng-container *ngTemplateOutlet="moreTemplate; context: { row }"></ng-container>
			</ng-template>
		</ng-container>
	</app-datatable>

	<!--mobile-->
	<ul class="datatable-mobile">
		<li class="user" *ngFor="let employee of employees$ | async; trackBy: sharedService.trackByFn">
			<ng-container *ngTemplateOutlet="moreTemplate; context: { row: employee }"></ng-container>

			<p class="name-label">{{ t("EMPLOYEES.NAME") }}</p>
			<p class="name-value">{{ employee.name }}</p>

			<p class="email-label">{{ t("EMPLOYEES.EMAIL") }}</p>
			<p class="email-value">{{ employee.email }}</p>

			<p class="tel-label">{{ t("EMPLOYEES.TEL") }}</p>
			<p class="tel-value">{{ employee.tel }}</p>

			<p class="role-label">{{ t("EMPLOYEES.ROLE") }}</p>
			<p class="role-value">{{ t("USERS." + employee.role) }}</p>
		</li>
	</ul>
</div>

<ng-template #moreTemplate let-row="row">
	<app-more
		class="more"
		(editClicked)="openUpdateUserDialog(row)"
		(deleteClicked)="openDeleteUserDialog(row)"
	></app-more>
</ng-template>
