<div class="active-orders-page" *transloco="let t; read: activeOrdersPageI18n">
	<button appButton class="add" (click)="openCreateOrderDialog()">
		<app-icon class="icon" name="add"></app-icon>
		<span class="text">{{ t("add") }}</span>
	</button>

	<app-filters class="filters"></app-filters>

	<ul class="orders">
		<li class="order" *ngFor="let order of activeOrders$ | async; trackBy: trackByFn">
			<a class="link" [routerLink]="order.id">
				<app-image class="image" placeholder="table" [remote]="true" [name]="order.table?.name"></app-image>

				<div class="info">
					<p class="code">{{ order.code }}</p>
					<p class="status">{{ order.status }}</p>
				</div>

				<button
					appStopPropagation
					appIconButton
					class="more"
					[tippy]="actionsTemplate"
					[data]="order"
					placement="left"
					variation="popper"
					theme="1"
				>
					<app-icon class="icon" name="more"></app-icon>
				</button>
			</a>
		</li>
	</ul>
</div>

<ng-template #actionsTemplate let-data="data" let-hide>
	<app-actions [actions]="actions" [data]="data" [additionalFunc]="hide"></app-actions>
</ng-template>
